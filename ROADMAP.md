# YAMI DAO Roadmap

技術的なロードマップと将来の展望

## Phase 1: DAO立ち上げ・Web3基盤 (2025) - 完了

- [x] Webサイト・コミュニティ基盤
- [x] yamisskey-dev 継続開発
- [x] Snapshot統合（オフチェーン投票）
- [x] Safe統合（Treasury管理）

## Phase 2: 認証・プライバシー (2026) - 進行中

- [ ] Misskey認証によるメンバー確認
- [ ] Semaphoreによるゼロ知識証明（ZKP）匿名投票

### Misskey認証システム

OSSの理念に基づき、Misskeyアカウントを用いたメンバー認証システムを構築予定。

**目的:**
- 1人1票の投票権をMisskeyアカウントで保証
- Discord等の非公開ソフトウェアに依存しない認証
- YAMIエコシステム全体で利用可能な統一ID

**技術構成:**
- MiAuth/OAuth (Misskey認証)
- wagmi + viem (ウォレット接続)
- Cloudflare D1 (データ永続化)
- Snapshot API Strategy (投票権判定)

**対応予定:**
- ブラウザウォレット (MetaMask等)
- モバイルウォレット (WalletConnect)
- やみすきー系インスタンス (yami.ski, test.yami.ski等)

### Semaphore ZKP匿名投票

プライバシーファーストの理念を技術的に実現するため、ゼロ知識証明（ZKP）プロトコル「Semaphore」を導入予定。

**目的:**
- 投票者のウォレットアドレスを公開せずに投票権を証明
- 「誰が何に投票したか」を追跡不可能にし、心理的安全性を確保
- Sybil攻撃耐性を維持しつつ完全匿名投票を実現

**技術構成:**
- @semaphore-protocol/core (ZK証明生成)
- @semaphore-protocol/contracts (Optimism上のグループ管理)
- カスタムSnapshot Strategy (ZK証明検証)

**フロー:**
1. ユーザーがMiAuthでMisskeyアカウント認証
2. ユーザーのローカルでSemaphore identity（秘密鍵）を生成
3. identityから導出したcommitmentをサーバーに送信・グループに登録
4. 投票時: ユーザーはローカルで秘密鍵を使いZK証明を生成
5. Snapshot StrategyでZK証明を検証し投票を受理（秘密鍵は一切送信されない）

**メンタルヘルスコミュニティにおける意義:**
- 自分の意見表明が誰にも追跡されない安心感
- センシティブなテーマでも率直な投票が可能
- 匿名性による参加ハードルの低減

## Phase 3: フルDAO化 (2027以降) - 予定

- [ ] オンチェーン投票
- [ ] コントリビューター報酬自動配布
- [ ] エコシステム拡大

### 技術拡張

**Solidity連携:**
- SBT (Soulbound Token) によるメンバーシップ証明
- EAS (Ethereum Attestation Service) によるオンチェーン認証
- スマートコントラクトによる自動報酬分配

**エコシステム統合:**
- hub.yami.ski の各サービスとの連携
- 他のやみすきーインスタンスとの相互認証

## Phase 4: 分散型モデレーション - 将来構想

- [ ] ポリシー決定のDAO化
- [ ] 異議申立てシステム
- [ ] Misskey API連携

### 段階的民主化モデル

Misskeyサーバー運営とDAOガバナンスを統合し、「民主化すべき部分」を明確にした3層構造を採用。

**レイヤー1: 即時対応（従来型）**
- モデレーターが従来通り対応
- 明確な違反（スパム、違法コンテンツ等）は即座に対処
- DAOは関与しない（迅速性と安全性を優先）

**レイヤー2: ポリシー決定（DAO投票）**
- コミュニティルールの追加・変更
- 連合ブロックリストの更新
- モデレーターの任命・信任投票
- 重大な判断の事後承認

**レイヤー3: 異議申立て（ZKP匿名投票）**
- モデレーション判断への不服申立て
- 当事者のプライバシーを保護しつつ審議
- 結果はオンチェーンに記録（透明性）

### 設計原則

**やること:**
- ルール策定を民主化（全員で投票）
- 異議申立てを匿名化（ZKPで公平に審議）
- 判断の透明性を確保（オンチェーン記録）

**やらないこと:**
- 個別ユーザーのBAN可否を公開投票にしない
- モデレーターの即時対応権限を奪わない
- 法的リスクのある判断を多数決にしない

### 技術構成（検討中）

- Misskey Admin API (モデレーション操作)
- Cloudflare Workers (投票結果監視・API呼び出し)
- Safe マルチシグ (重大な決定の承認ゲート)
- ZKP異議申立て (Semaphore拡張)

### メンタルヘルスコミュニティにおける意義

- 「完全民主制」の理想と「安全性」の現実を両立
- 緊急対応は迅速に、ルール策定は民主的に
- 異議申立ては匿名で、結果は透明に

## 技術スタック

| 項目 | Phase 1 (完了) | Phase 2 | Phase 3 | Phase 4 |
|------|----------------|---------|---------|---------|
| フロントエンド | Next.js 15 | + wagmi/viem | - | - |
| 認証 | - | MiAuth | + SBT/EAS | - |
| プライバシー | - | Semaphore (ZKP) | + Semaphore拡張 | + 匿名異議申立て |
| データベース | - | Cloudflare D1 | - | - |
| 投票 | Snapshot (whitelist) | Snapshot (API Strategy + ZK証明) | オンチェーン | + ポリシー投票 |
| Treasury | Safe | Safe | Safe + 自動化 | - |
| モデレーション | 従来型 | - | - | DAO連携 |
